{% extends 'base.html' %} {% load static %}

<!-- title -->
{% block title %} Cart {% endblock %}

<!-- content starts here -->
{% block content %}

<!-- show empty cart image if cartitems are null -->
{% if cartItems == 0 %}
<div class="mt-20 flex justify-center items-center md:mt-[40px]">
	<img
		class="h-3/5 md:w-3/5 aspect-auto"
		src="{% static 'img/empty_cart_message.png' %}"
		alt="empty_cart_message"
	/>
</div>

{% else %}

<!-- timeline content starts here -->

<ul
	class="hidden relative mx-44 mt-24 md:flex list-none justify-between overflow-hidden p-0 transition-[height] duration-200 ease-in-out"
>
	<!--First item-->
	<li class="w-[4.5rem] flex-auto">
		<div
			class="flex cursor-pointer items-center pl-2 leading-[1.3rem] no-underline after:ml-2 after:h-px after:w-full after:flex-1 after:bg-[#e0e0e0] after:content-[''] focus:outline-none dark:after:bg-neutral-600"
		>
			<span
				class="my-6 mr-2 flex h-[2rem] w-[2rem] items-center justify-center rounded-full bg-[#ebedef] text-sm font-medium text-[#40464f]"
			>
				<span class="flex w-3 h-3 bg-blue-600 rounded-full"></span>
			</span>
			<span class="font-medium text-gray-500"> Home </span>
		</div>
	</li>
	<!--Second item-->
	<li class="w-[4.5rem] flex-auto">
		<div
			class="flex cursor-pointer items-center leading-[1.3rem] no-underline before:mr-2 before:h-px before:w-full before:flex-1 before:bg-[#e0e0e0] before:content-[''] after:ml-2 after:h-px after:w-full after:flex-1 after:bg-[#e0e0e0] after:content-[''] focus:outline-none dark:before:bg-neutral-600 dark:after:bg-neutral-600"
		>
			<span
				class="my-6 mr-2 flex h-[2rem] w-[2rem] items-center justify-center rounded-full bg-[#ebedef] text-sm font-medium text-[#40464f]"
			>
				<span class="flex w-3 h-3 bg-blue-600 rounded-full"></span>
			</span>
			<span class="font-medium text-gray-500"> Cart </span>
		</div>
	</li>
	<!--Second item-->
	<li class="w-[4.5rem] flex-auto">
		<div
			class="flex cursor-pointer items-center leading-[1.3rem] no-underline before:mr-2 before:h-px before:w-full before:flex-1 before:bg-[#e0e0e0] before:content-[''] after:ml-2 after:h-px after:w-full after:flex-1 after:bg-[#e0e0e0] after:content-[''] focus:outline-none dark:before:bg-neutral-600 dark:after:bg-neutral-600"
		>
			<span
				class="my-6 mr-2 flex h-[2rem] w-[2rem] items-center justify-center rounded-full bg-[#ebedef] text-sm font-medium text-[#40464f]"
			>
				<span class="flex w-3 h-3 bg-gray-400 rounded-full"></span>
			</span>
			<span
				class="text-neutral-500 after:flex after:text-[0.8rem] after:content-[data-content] dark:text-neutral-300"
			>
				Checkout
			</span>
		</div>
	</li>
	<li class="w-[4.5rem] flex-auto">
		<div
			class="flex cursor-pointer items-center pr-2 leading-[1.3rem] no-underline before:mr-2 before:h-px before:w-full before:flex-1 before:bg-[#e0e0e0] before:content-[''] focus:outline-none dark:before:bg-neutral-600 dark:after:bg-neutral-600"
		>
			<span
				class="my-6 mr-2 flex h-[2rem] w-[2rem] items-center justify-center rounded-full bg-[#ebedef] text-sm font-medium text-[#40464f]"
			>
				<span class="flex w-3 h-3 bg-gray-400 rounded-full"></span>
			</span>
			<span
				class="text-neutral-500 after:flex after:text-[0.8rem] after:content-[data-content] dark:text-neutral-300"
			>
				Payment
			</span>
		</div>
	</li>
</ul>

<!-- timeline content ends here -->

<div class="mx-auto max-w-7xl px-2 pt-20 md:pt-0 lg:px-0">
	<div class="mx-auto max-w-2xl sm:py-8 lg:max-w-7xl">
		<button
			class="sm:hidden w-full block border-2 border-slate-700 text-black px-2 py-2 mb-5 rounded-md hover:bg-slate-700 hover:text-white"
		>
			<a href="/">&#x2190; Continue Shopping</a>
		</button>
		<header class="flex justify-between">
			<h1 class="text-4xl font-bold tracking-tight text-gray-900 sm:text-4xl">
				My Cart
			</h1>
			<button
				class="hidden sm:block border-2 border-slate-700 text-black px-2 py-2 rounded-md hover:bg-slate-700 hover:text-white"
			>
				<a href="/">&#x2190; Continue Shopping</a>
			</button>
		</header>
		<p class="mt-5 border-b border-gray-200"></p>
		<form
			class="mt-4 lg:grid lg:grid-cols-12 lg:items-start lg:gap-x-12 xl:gap-x-16"
		>
			<section
				aria-labelledby="cart-heading"
				class="rounded-lg bg-white lg:col-span-8"
			>
				<h2 id="cart-heading" class="sr-only">Items in your shopping cart</h2>
				<ul role="list" class="divide-y divide-gray-200">
					{% for item in items %}
					<div class="">
						<li class="flex py-6 sm:py-6">
							<div class="flex-shrink-0">
								<img
									src="{{ item.product.imageURL }}"
									alt="Nike Air Force 1 07 LV8"
									class="sm:h-38 sm:w-38 h-24 w-24 rounded-md object-contain object-center"
								/>
							</div>
							<div class="ml-4 flex flex-1 flex-col justify-between sm:ml-6">
								<div
									class="relative pr-9 sm:grid sm:grid-cols-2 sm:gap-x-6 sm:pr-0"
								>
									<div>
										<div class="flex justify-between">
											<h3 class="text-sm">
												<a href="#" class="font-semibold text-black">
													{{ item.product.name }}
												</a>
											</h3>
										</div>
										<div class="mt-1 flex text-sm">
											<p class="text-sm text-gray-500">{{item.product.color}}</p>
											<p
												class="ml-4 border-l border-gray-200 pl-4 text-sm text-gray-500"
											>
                                            {{item.product.size}}
											</p>
										</div>
										<div class="mt-1 flex items-end">
											<p class="text-xs font-medium text-gray-500 line-through">
												₹48,900
											</p>
											<p class="text-sm font-medium text-gray-900">
												  &#8377;{{ item.product.price|floatformat:2 }}
											</p>
											  
											<p class="text-sm font-medium text-green-500">5% Off</p>
										</div>
									</div>
								</div>
							</div>
						</li>
						<div class="mb-2 flex">
							<div class="min-w-24 flex">
								<button
									data-product="{{ item.product.id }}"
									data-action="remove"
									type="button"
									class="update-cart h-7 w-7"
								>
									-
								</button>
								<input
									type="text"
									class="mx-1 h-7 w-9 rounded-md border text-center"
									value="{{ item.quantity }}"
								/>
								<button
									data-product="{{ item.product.id }}"
									data-action="add"
									type="button"
									class="update-cart flex h-7 w-7 items-center justify-center"
								>
									+
								</button>
							</div>
							<div class="ml-6 flex text-sm">
								<button
									type="button"
									class="flex items-center space-x-1 px-2 py-1 pl-0"
									onclick=""
								>
									<svg
										xmlns="http://www.w3.org/2000/svg"
										width="12"
										height="12"
										viewBox="0 0 24 24"
										fill="none"
										stroke="currentColor"
										stroke-width="2"
										stroke-linecap="round"
										stroke-linejoin="round"
										class="text-red-500"
									>
										<path d="M3 6h18"></path>
										<path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path>
										<path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path>
									</svg>
									<span class="text-xs font-medium text-red-500">Remove</span>
								</button>
							</div>
						</div>
					</div>
					{% endfor %}
				</ul>
			</section>
			<section
				aria-labelledby="summary-heading"
				class="mt-16 rounded-md bg-white lg:col-span-4 lg:mt-0 lg:p-0"
			>
				<h2
					id="summary-heading"
					class="border-b border-gray-200 px-4 py-3 text-lg font-medium text-gray-900 sm:p-4"
				>
					Price Details
				</h2>
				<div>
					<dl class="space-y-1 px-2 py-4">
						<div class="flex items-center justify-between">
							<dt class="text-sm text-gray-800">
								Price ({{order.get_cart_items}} items)
							</dt>
							<dd class="text-sm font-medium text-gray-900">
								&#8377;{{order.get_cart_total|floatformat:2}}
							</dd>
						</div>
						<!-- <div class="flex items-center justify-between pt-4">
							<dt class="flex items-center text-sm text-gray-800">
								<span>Discount</span>
							</dt>
							<dd class="text-sm font-medium text-green-700">- ₹ 3,431</dd>
						</div> -->
						<div class="flex items-center justify-between py-4">
							<dt class="flex text-sm text-gray-800">
								<span>Delivery Charges</span>
							</dt>
							<dd class="text-sm font-medium text-green-700">Free</dd>
						</div>
						<div
							class="flex items-center justify-between border-y border-dashed py-4"
						>
							<dt class="text-base font-medium text-gray-900">Total Amount</dt>
							<dd class="text-base font-medium text-gray-900">
								&#8377;{{order.get_cart_total|floatformat:2}}
							</dd>
						</div>
					</dl>
					<div class="px-2 pb-4 font-medium text-green-700">
						You will save environment on this order
					</div>
				</div>
				<div>
					<button
						class=" bg-green-500 hover:bg-green-700 w-full text-white font-semibold py-2 px-4 mx-auto rounded-md"
					>
						<a href="/checkout">Proceed to Checkout</a>
					</button>
				</div>
			</section>
		</form>
	</div>
</div>

{% endif %} {% endblock content %}
